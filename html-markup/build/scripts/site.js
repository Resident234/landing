function FormValidator(e,t,a){var n=this;this.strFormClass=".js-form__"+e,this.$form=$(n.strFormClass),this.strErrorContainerClass=t,this.$errorContainer=$("."+n.strErrorContainerClass),this.strErrorMessageTemplate=a,this.objExtend=function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},this.GetInputs=function(){var e={};return e.rules={},e.messages={},$(n.strFormClass+" input").each(function(t,a){"Y"==$(this).data("required")&&(e.rules[$(this).attr("id")]={},e.messages[$(this).attr("id")]={},e.rules[$(this).attr("id")]="required",e.messages[$(this).attr("id")]=$(this).data("required-message"))}),e},this.arRulesMessages=n.GetInputs(),this.Init=function(){n.$form.validate(n.objExtend({errorClass:"field-error",focusInvalid:!1,focusCleanup:!0,onclick:!1,onkeyup:!1,onfocusout:!1,invalidHandler:function(e,t){},submitHandler:function(e){n.$errorContainer.addClass("hidden"),e.submit(),$(".js-phone-number-result").html(n.$form.find("#PHONE_NUMBER").val()),$.arcticmodal("close"),openPopup("#thanks-for-request"),BX.closeWait()},showErrors:function(e,t){var a="",o=[];for(var i in e)o.push(e[i]);a+=o.join("<br>"),a=n.strErrorMessageTemplate.replace("#content#",a),n.$errorContainer.removeClass("hidden"),n.$errorContainer.html(a),BX.closeWait()}},n.arRulesMessages))}}$(function(){$("body").addClass("loaded")}),$(function(){!function(){function e(e){e>10?t.addClass("_scroll"):e<=10&&t.removeClass("_scroll")}var t=($(window).scrollTop(),$(".js-header"),$("body"));$(window).on("scroll load resize",function(){e($(window).scrollTop())})}()}),$(function(){!function(){$("#choose-city-button").click(function(){$("#choose-city-balloon").fadeOut(300)})}(),function(){"function"==typeof $.fn.mask&&($("#phone").mask("+7 (999) 999 99 99"),$(".phone").mask("+7 (999) 999 99 99"))}(),function(){var e=$(".js-popup-link");window.openPopup=function(e){var t;return"string"!=typeof e?(console.log("Target does not defined"),!1):(t=$(e),t.length<1?(console.log("Target does not exist"),!1):(t.arcticmodal({overlay:{css:{backgroundColor:"rgba(34, 34, 34, 0.90)",opacity:1}},openEffect:{type:"fade",speed:400},closeEffect:{type:"none",speed:0}}),t.addClass("animated fadeInDown"),t.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("animated fadeInDown")}),!1))},e.click(function(){var e=$(this),t=e.attr("data-href");return"#personal-info"!==t&&($.arcticmodal("close"),console.log("!")),openPopup(t),!1})}(),function(){$(".js-select").select2({minimumResultsForSearch:-1}),$(".js-select-fw").select2({minimumResultsForSearch:-1,width:"style",dropdownCssClass:"fw"}),$(".js-select-fw").on("select2:open",function(e){$(".select2-dropdown").css("min-width",$(this).next(".select2").outerWidth())})}(),function(){var e=$(".js-header-burger"),t=$("#mobile-menu"),a=$("#mobile-menu-close"),n=$(".js-overlay");e.click(function(){return t.addClass("mobile-menu_open"),n.addClass("_active"),!1}),a.click(function(){return t.removeClass("mobile-menu_open"),n.removeClass("_active"),!1})}(),function(){var e=$(".js-checkbox"),t=$(".js-checkbox-square"),a=$(".js-checkbox-container-square"),n=$(".js-checkbox-rectangle"),o=$(".js-checkbox-mark"),i=$(".js-radio");a.on("click",function(){$(this).find(".js-checkbox").iCheck("toggle")}),e.each(function(){var e=$(this),t=e.attr("data-value"),a=e.attr("data-checkbox-class");e.iCheck({checkboxClass:a,insert:t})}),o.each(function(){var e=$(this),t=e.attr("data-value");e.iCheck({checkboxClass:"checkbox-mark",insert:t})}),t.each(function(){var e=$(this),t=e.attr("data-value");e.iCheck({checkboxClass:"checkbox-square checkbox-styled",insert:t})}),n.each(function(){var e=$(this),t=e.attr("data-value");e.iCheck({checkboxClass:"checkbox-rectangle checkbox-styled",insert:t})}),i.each(function(){var e=$(this),t=e.attr("data-value"),a=e.attr("data-radio-class");e.iCheck({radioClass:a,insert:t})}),i.on("ifChecked",function(e){var t,a=$(this),n=a.data("index"),o=a.closest(".js-radio-parent");void 0!==n&&(t=o.find(".js-radio"),t.each(function(e){if(e===n)return!0;$(this).iCheck("uncheck")}))})}(),function(){jQuery.validator.addMethod("checkMask",function(e,t){return/\+\d{1} \(\d{3}\) \d{3}-\d{2}-\d{2}/g.test(e)}),$("#basket_form").validate({errorClass:"field-error",focusInvalid:!1,focusCleanup:!0,onclick:!1,onkeyup:!1,onfocusout:!1,rules:{ORDER_PROP_8:"required",ORDER_PROP_3:{checkMask:!0},ORDER_PROP_2:{required:!0,email:!0}},messages:{ORDER_PROP_8:$(".basket-form").find('[name="ORDER_PROP_8"]').attr("data-error-message"),ORDER_PROP_3:{checkMask:$(".basket-form").find('[name="ORDER_PROP_3"]').attr("data-error-message")},ORDER_PROP_2:$(".basket-form").find('[name="ORDER_PROP_2"]').attr("data-error-message")},invalidHandler:function(e,t){},submitHandler:function(e){$(".js-preloader-Wait").show();var t=$("#basket_form").attr("action"),a=$("#basket_form").serialize();return $.post(t,a,function(t){if(t.order.ERROR){var a="";for(var n in t.order.ERROR.PROPERTY){var o=e.find('[data-key="'+n+'"]');o.addClass("input-error"),o.next().html(t.order.ERROR.PROPERTY[n]),a+='<p class="global-error__visible">'+t.order.ERROR.PROPERTY[n]+"</p>"}$(".js-basket-form__error-text").html(a)}else{var r,s=[];for(i in t.order.ORDER_DATA.items)r=t.order.ORDER_DATA.items[i],s.push({id:r.id,name:r.name,price:r.price,brand:"��������",category:r.category,quantity:r.quantity});dataLayer.push({ecommerce:{purchase:{actionField:{id:t.order.ID,affiliation:"��������",revenue:t.order.ORDER_DATA.order.price,shipping:"0"},products:s}}}),ga("require","ecommerce","ecommerce.js"),ga("ecommerce:addTransaction",{id:t.order.ID,affiliation:"��������",revenue:t.order.ORDER_DATA.order.price,shipping:"0"});for(i in t.order.ORDER_DATA.items)r=t.order.ORDER_DATA.items[i],ga("ecommerce:addItem",{id:r.id,sku:r.id,name:r.name,price:r.price,category:r.category,quantity:r.quantity});ga("ecommerce:send"),ga("ecommerce:clear"),ga("send","event",$("#basket_form").data("analytics-category"),$("#basket_form").data("analytics-action")),yaCounter31874381.reachGoal($("#basket_form").data("metrika-goal")),window.criteo_q=window.criteo_q||[],window.criteo_q.push({event:"setAccount",account:accountId},{event:"setSiteType",type:siteType},{event:"setEmail",email:userEmail},{event:"trackTransaction",id:Math.random().toString().substr(3,9),item:CriteoItems}),openPopup("#added-order")}$(".js-preloader-Wait").hide()},"json"),!1},showErrors:function(e,t){$(".basket-form").find(".basket-form__input").removeClass("input-error"),$(".basket-form").find(".basket-form__input").next().html("");for(var a in e){var n=$(".basket-form").find('[name="'+a+'"]');n.addClass("input-error"),n.next().html(e[a])}this.defaultShowErrors()},errorPlacement:function(e,t){}})}()}),$(function(){"undefined"!=typeof BX&&BX.addCustomEvent("onAjaxSuccess",function(){!function(){"function"==typeof $.fn.mask&&($("#phone").mask("+7 (999) 999 99 99"),$(".phone").mask("+7 (999) 999 99 99"))}(),function(){var e=$(".js-popup-link");window.openPopup=function(e){var t;return"string"!=typeof e?(console.log("Target does not defined"),!1):(t=$(e),t.length<1?(console.log("Target does not exist"),!1):(t.arcticmodal({overlay:{css:{backgroundColor:"rgba(34, 34, 34, 0.90)",opacity:1}},openEffect:{type:"fade",speed:400},closeEffect:{type:"none",speed:0}}),t.addClass("animated fadeInDown"),t.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("animated fadeInDown")}),!1))},e.click(function(){var e=$(this),t=e.attr("data-href");return"#personal-info"!==t&&($.arcticmodal("close"),console.log("!")),openPopup(t),!1})}(),function(){var e=$(".js-checkbox"),t=$(".js-checkbox-square"),a=$(".js-checkbox-container-square"),n=$(".js-checkbox-rectangle"),o=$(".js-checkbox-mark"),i=$(".js-radio");a.on("click",function(){$(this).find(".js-checkbox").iCheck("toggle")}),e.each(function(){var e=$(this),t=e.attr("data-value"),a=e.attr("data-checkbox-class");e.iCheck({checkboxClass:a,insert:t})}),o.each(function(){var e=$(this),t=e.attr("data-value");e.iCheck({checkboxClass:"checkbox-mark",insert:t})}),t.each(function(){var e=$(this),t=e.attr("data-value");e.iCheck({checkboxClass:"checkbox-square checkbox-styled",insert:t})}),n.each(function(){var e=$(this),t=e.attr("data-value");e.iCheck({checkboxClass:"checkbox-rectangle checkbox-styled",insert:t})}),i.each(function(){var e=$(this),t=e.attr("data-value"),a=e.attr("data-radio-class");e.iCheck({radioClass:a,insert:t})}),i.on("ifChecked",function(e){var t,a=$(this),n=a.data("index"),o=a.closest(".js-radio-parent");void 0!==n&&(t=o.find(".js-radio"),t.each(function(e){if(e===n)return!0;$(this).iCheck("uncheck")}))})}()})}),$(function(){function e(e){var t=$("#"+e);return!!t.length&&t.offset().top}var t=$(".js-menu"),a=$(".js-menu__item"),n=t.data("height"),o=[],i=0,r=[];t.each(function(){var t=0,n=$(this).data("menu-id");o[n]=[],r.push(n),$(this).find(a).each(function(){var a=e($(this).attr("data-section-id"));a&&o[n].push(a),t++}),i++}),$(window).on("scroll",function(){var e=$(document).scrollTop();r.forEach(function(t,a,i){for(var r=0,a=0;a<o[t].length;a++){var s=o[t][a]-n,c=o[t][a+1]-n;if(0==a&&e<s){r=0;break}if(a==o.length-1){r=a;break}if(e>=s&&e<c){r=a;break}}$(".js-menu[data-menu-id='"+t+"'] .js-menu__item").removeClass("_active"),$(".js-menu[data-menu-id='"+t+"'] .js-menu__item[data-index='"+r+"']").addClass("_active")})}),$(document).on("click",".js-menu__item",function(t){t.preventDefault();var a=$(this),o=e($(this).attr("data-section-id"));o&&$("html, body").animate({scrollTop:o-n},800,function(){$(".js-menu__item").removeClass("_active"),a.addClass("_active")})})}),$(function(){$(".js-calculator-block__range-slider").each(function(){var e=$(this).closest(".js-calculator-block__range").find(".js-calculator-block__range-input .js-calculator-block__input");e.val(Number($(this).attr("data-val"))),$(this).slider({range:!1,min:Number($(this).attr("data-min")),max:Number($(this).attr("data-max")),value:Number($(this).attr("data-val")),step:Number($(this).attr("data-step")),classes:{"ui-slider-handle":"calculator-block__range-slider-handle"},slide:function(t,a){e.val(a.value)}})})}),$(function(){!function(){var e=$(".js-popup-link");window.openPopup=function(e){var t;return"string"!=typeof e?(console.log("Target does not defined"),!1):(t=$(e),t.length<1?(console.log("Target does not exist"),!1):(t.arcticmodal({overlay:{css:{backgroundColor:"rgba(34, 34, 34, 0.90)",opacity:1}},openEffect:{type:"fade",speed:400},closeEffect:{type:"none",speed:0}}),t.addClass("animated fadeInDown"),t.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.removeClass("animated fadeInDown")}),!1))},e.click(function(){var e=$(this),t=e.attr("data-href");return"#personal-info"!==t&&($.arcticmodal("close"),console.log("!")),openPopup(t),!1})}()}),$(function(){!function(){var e=$(".js-tabs-content__nav-item");e.click(function(){e.removeClass("_active"),$(this).addClass("_active");var t=$(this).data("section-id"),a=$(this).closest(".js-tabs-content__container"),n=a.find(".js-tabs-content__list-item"),o=a.find(".js-tabs-content__list-item[data-section-id='"+t+"']");n.removeClass("_active"),o.addClass("_active")})}()}),$(function(){!function(){$(document).on("click",".js-item-desc__detail-button",function(e){e.preventDefault(),$(this).closest(".js-item-desc").find(".js-item-desc__detail").toggleClass("display-none");var t=$(this).data("text-detail"),a=$(this).data("text-preview");return $(this).text()===t?$(this).text(a):$(this).text(t),!1})}()});